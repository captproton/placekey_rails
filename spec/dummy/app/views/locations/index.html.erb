<h1>Locations</h1>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Latitude</th>
      <th>Longitude</th>
      <th>Placekey</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @locations.each do |location| %>
      <tr>
        <td><%= location.name %></td>
        <td><%= location.latitude %></td>
        <td><%= location.longitude %></td>
        <td><%= placekey_display(location) %></td>
        <td><%= link_to 'Show', location %></td>
        <td><%= link_to 'Edit', edit_location_path(location) %></td>
        <td><%= link_to 'Destroy', location, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Location', new_location_path %>
<%= link_to 'Batch Process', batch_process_locations_path, method: :post if @locations.any? %>

<!-- Placekey Map Display -->
<div class="placekey-map-container" style="height: 600px; margin-top: 20px;">
  <%= placekey_map(@locations, height: "100%") %>
</div>
